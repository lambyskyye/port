   import * as THREE from 'https://unpkg.com/three@0.153.0/build/three.module.js';
import { OrbitControls } from 'https://unpkg.com/three@0.153.0/examples/jsm/controls/OrbitControls.js';

let scene, camera, renderer, badgeGroup;
let mouseX = 0, mouseY = 0, targetX = 0, targetY = 0;
const windowHalf = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
let clock = new THREE.Clock();

init();
animate();

function init() {
  scene = new THREE.Scene();

  camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 0.1, 100);
  camera.position.z = 5;

  renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  badgeGroup = new THREE.Group();
  scene.add(badgeGroup);

  const width = 1.2, height = 1.7, radius = 0.1;
  const shape = new THREE.Shape();
  shape.moveTo(-width / 2 + radius, -height / 2);
  shape.lineTo(width / 2 - radius, -height / 2);
  shape.quadraticCurveTo(width / 2, -height / 2, width / 2, -height / 2 + radius);
  shape.lineTo(width / 2, height / 2 - radius);
  shape.quadraticCurveTo(width / 2, height / 2, width / 2 - radius, height / 2);
  shape.lineTo(-width / 2 + radius, height / 2);
  shape.quadraticCurveTo(-width / 2, height / 2, -width / 2, height / 2 - radius);
  shape.lineTo(-width / 2, -height / 2 + radius);
  shape.quadraticCurveTo(-width / 2, -height / 2, -width / 2 + radius, -height / 2);

  const hole = new THREE.Path();
  hole.absarc(0, height / 2 - 0.15, 0.05, 0, Math.PI * 2);
  shape.holes.push(hole);

  const badgeGeometry = new THREE.ExtrudeGeometry(shape, {
    depth: 0.05,
    bevelEnabled: false
  });

  const badgeMaterial = new THREE.MeshPhysicalMaterial({
    color: 0x222222,
    metalness: 0.1,
    roughness: 0.2,
    clearcoat: 1.0,
    clearcoatRoughness: 0.1,
  });

  const badgeMesh = new THREE.Mesh(badgeGeometry, badgeMaterial);
  badgeGroup.add(badgeMesh);

  // SVG overlay (front face)
 const svgString = `
<svg width="575" height="840" viewBox="0 0 575 840" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_407_49)">
<rect width="575" height="840" fill="white"/>
<rect y="-0.00878906" width="575" height="840" fill="#011B29"/>
<path d="M-424.382 724.155C-183.839 469.597 -152.581 293.399 -250.5 -59.4813C-27.6388 157.054 143.334 205.071 520.33 108.502C269.976 424.033 273.936 604.357 367.3 888.527C111.94 697.35 -49.1113 595.022 -424.382 724.155Z" fill="url(#paint0_linear_407_49)"/>
<g opacity="0.6">
<path d="M46.2172 618.05H70.6672C78.2005 618.05 82.8005 620.133 84.4672 624.3C86.1339 628.467 86.9672 633.417 86.9672 639.15C86.9672 644.183 86.5172 650.3 85.6172 657.5C83.6839 673.133 80.9672 683.633 77.4672 689C74.0005 694.333 68.5005 697 60.9672 697H36.5172L46.2172 618.05ZM60.6172 684.4C62.8839 684.4 64.6339 683.417 65.8672 681.45C67.1339 679.45 68.6339 671.467 70.3672 657.5C71.5339 648.067 72.1172 641.383 72.1172 637.45C72.1172 635.65 71.8505 634.083 71.3172 632.75C70.8172 631.383 69.4505 630.7 67.2172 630.7H59.8672L53.3172 684.4H60.6172ZM93.4352 618.05H127.685L125.885 632.8H106.985L104.935 649.6H123.385L121.535 664.4H103.135L100.935 682.25H119.785L117.985 697H83.7352L93.4352 618.05ZM143.388 697.3C135.421 697.3 130.121 695.9 127.488 693.1C124.888 690.3 123.588 685.767 123.588 679.5C123.588 676.633 123.821 673.317 124.288 669.55H139.588C139.054 673.783 138.788 677.083 138.788 679.45C138.788 681.883 139.204 683.4 140.038 684C140.904 684.6 142.504 684.9 144.838 684.9C147.171 684.9 148.988 684.6 150.288 684C151.588 683.367 152.504 680.783 153.038 676.25C153.171 675.283 153.238 674.4 153.238 673.6C153.238 670.933 152.504 668.967 151.038 667.7C149.604 666.433 146.904 665.283 142.938 664.25C135.938 661.883 131.588 659.483 129.888 657.05C128.221 654.583 127.388 651.417 127.388 647.55C127.388 645.917 127.504 644.117 127.738 642.15C128.938 632.317 131.554 625.85 135.588 622.75C139.654 619.617 145.454 618.05 152.988 618.05C160.521 618.05 165.654 619.55 168.388 622.55C171.154 625.55 172.538 630.217 172.538 636.55C172.538 639.217 172.338 642.233 171.938 645.6H156.638C157.138 641.5 157.388 638.3 157.388 636C157.388 633.433 156.938 631.883 156.038 631.35C155.138 630.783 153.571 630.5 151.338 630.5C148.971 630.5 147.138 630.783 145.838 631.35C144.571 631.883 143.638 634.517 143.038 639.25C142.904 640.283 142.838 641.217 142.838 642.05C142.838 644.883 143.621 646.867 145.188 648C146.754 649.1 149.504 650.233 153.438 651.4C160.504 653.7 164.871 655.983 166.538 658.25C168.204 660.483 169.038 663.567 169.038 667.5C169.038 669.133 168.921 670.967 168.688 673C167.521 682.5 164.971 688.933 161.038 692.3C157.138 695.633 151.254 697.3 143.388 697.3ZM178.594 617.7H204.494L194.744 697H168.844L178.594 617.7ZM240.6 697.4C227.633 697.4 217.967 694.633 211.6 689.1C205.267 683.533 202.1 675.667 202.1 665.5C202.1 662.967 202.283 660.267 202.65 657.4C204.383 643.3 209.65 633.167 218.45 627C227.283 620.8 238.417 617.7 251.85 617.7C263.65 617.7 273.1 620.067 280.2 624.8C287.333 629.5 290.9 636.017 290.9 644.35C290.9 645.05 290.883 645.767 290.85 646.5H264.75C264.583 642.767 263.283 640.333 260.85 639.2C258.417 638.033 254.633 637.45 249.5 637.45C244.067 637.45 239.533 638.717 235.9 641.25C232.3 643.783 229.967 649.283 228.9 657.75C228.7 659.383 228.6 660.917 228.6 662.35C228.6 667.217 229.9 670.983 232.5 673.65C235.133 676.317 239.233 677.65 244.8 677.65C250.033 677.65 253.917 676.933 256.45 675.5C258.817 674.133 260.417 672.067 261.25 669.3H247.25L249.25 652.75H290.1L284.65 696.95H267.95L269 687.95L272.7 680.65L271.5 679.95L267.5 687.3C262.367 694.033 253.4 697.4 240.6 697.4ZM313.791 697H287.691L297.441 617.7H342.741L359.391 676.15H360.891L358.591 663.45C358.458 663.017 358.375 662.533 358.341 662C358.308 661.467 358.325 660.967 358.391 660.5L363.641 617.7H389.691L379.941 697H337.091L318.941 634.35H317.391L319.441 646.45C319.575 646.817 319.658 647.25 319.691 647.75C319.725 648.25 319.708 648.7 319.641 649.1L313.791 697ZM392.754 617.7H463.804L461.254 638.35H416.354L415.304 647H459.204L456.704 667.5H412.754L411.704 676.35H456.604L454.054 697H383.004L392.754 617.7ZM466.777 617.7H520.927C529.694 617.7 535.894 620.033 539.527 624.7C543.194 629.333 545.027 634.75 545.027 640.95C545.027 642.55 544.927 644.2 544.727 645.9C543.727 654.1 540.427 660.683 534.827 665.65C530.327 669.617 524.644 672 517.777 672.8L518.427 674.2L528.277 672.45L538.127 697H509.227L500.777 676.05L501.127 673.1H486.127L483.177 697H457.027L466.777 617.7ZM508.327 654.95C511.127 654.95 513.444 654.233 515.277 652.8C517.111 651.367 518.211 649.217 518.577 646.35C518.644 645.817 518.677 645.3 518.677 644.8C518.677 642.633 518.011 640.833 516.677 639.4C515.344 637.933 513.294 637.2 510.527 637.2H490.527L488.327 654.95H508.327Z" fill="url(#paint1_linear_407_49)"/>
</g>
<g opacity="0.3">
<path d="M46.2172 499.05H70.6672C78.2005 499.05 82.8005 501.133 84.4672 505.3C86.1339 509.467 86.9672 514.417 86.9672 520.15C86.9672 525.183 86.5172 531.3 85.6172 538.5C83.6839 554.133 80.9672 564.633 77.4672 570C74.0005 575.333 68.5005 578 60.9672 578H36.5172L46.2172 499.05ZM60.6172 565.4C62.8839 565.4 64.6339 564.417 65.8672 562.45C67.1339 560.45 68.6339 552.467 70.3672 538.5C71.5339 529.067 72.1172 522.383 72.1172 518.45C72.1172 516.65 71.8505 515.083 71.3172 513.75C70.8172 512.383 69.4505 511.7 67.2172 511.7H59.8672L53.3172 565.4H60.6172ZM93.4352 499.05H127.685L125.885 513.8H106.985L104.935 530.6H123.385L121.535 545.4H103.135L100.935 563.25H119.785L117.985 578H83.7352L93.4352 499.05ZM143.388 578.3C135.421 578.3 130.121 576.9 127.488 574.1C124.888 571.3 123.588 566.767 123.588 560.5C123.588 557.633 123.821 554.317 124.288 550.55H139.588C139.054 554.783 138.788 558.083 138.788 560.45C138.788 562.883 139.204 564.4 140.038 565C140.904 565.6 142.504 565.9 144.838 565.9C147.171 565.9 148.988 565.6 150.288 565C151.588 564.367 152.504 561.783 153.038 557.25C153.171 556.283 153.238 555.4 153.238 554.6C153.238 551.933 152.504 549.967 151.038 548.7C149.604 547.433 146.904 546.283 142.938 545.25C135.938 542.883 131.588 540.483 129.888 538.05C128.221 535.583 127.388 532.417 127.388 528.55C127.388 526.917 127.504 525.117 127.738 523.15C128.938 513.317 131.554 506.85 135.588 503.75C139.654 500.617 145.454 499.05 152.988 499.05C160.521 499.05 165.654 500.55 168.388 503.55C171.154 506.55 172.538 511.217 172.538 517.55C172.538 520.217 172.338 523.233 171.938 526.6H156.638C157.138 522.5 157.388 519.3 157.388 517C157.388 514.433 156.938 512.883 156.038 512.35C155.138 511.783 153.571 511.5 151.338 511.5C148.971 511.5 147.138 511.783 145.838 512.35C144.571 512.883 143.638 515.517 143.038 520.25C142.904 521.283 142.838 522.217 142.838 523.05C142.838 525.883 143.621 527.867 145.188 529C146.754 530.1 149.504 531.233 153.438 532.4C160.504 534.7 164.871 536.983 166.538 539.25C168.204 541.483 169.038 544.567 169.038 548.5C169.038 550.133 168.921 551.967 168.688 554C167.521 563.5 164.971 569.933 161.038 573.3C157.138 576.633 151.254 578.3 143.388 578.3ZM178.594 498.7H204.494L194.744 578H168.844L178.594 498.7ZM240.6 578.4C227.633 578.4 217.967 575.633 211.6 570.1C205.267 564.533 202.1 556.667 202.1 546.5C202.1 543.967 202.283 541.267 202.65 538.4C204.383 524.3 209.65 514.167 218.45 508C227.283 501.8 238.417 498.7 251.85 498.7C263.65 498.7 273.1 501.067 280.2 505.8C287.333 510.5 290.9 517.017 290.9 525.35C290.9 526.05 290.883 526.767 290.85 527.5H264.75C264.583 523.767 263.283 521.333 260.85 520.2C258.417 519.033 254.633 518.45 249.5 518.45C244.067 518.45 239.533 519.717 235.9 522.25C232.3 524.783 229.967 530.283 228.9 538.75C228.7 540.383 228.6 541.917 228.6 543.35C228.6 548.217 229.9 551.983 232.5 554.65C235.133 557.317 239.233 558.65 244.8 558.65C250.033 558.65 253.917 557.933 256.45 556.5C258.817 555.133 260.417 553.067 261.25 550.3H247.25L249.25 533.75H290.1L284.65 577.95H267.95L269 568.95L272.7 561.65L271.5 560.95L267.5 568.3C262.367 575.033 253.4 578.4 240.6 578.4ZM313.791 578H287.691L297.441 498.7H342.741L359.391 557.15H360.891L358.591 544.45C358.458 544.017 358.375 543.533 358.341 543C358.308 542.467 358.325 541.967 358.391 541.5L363.641 498.7H389.691L379.941 578H337.091L318.941 515.35H317.391L319.441 527.45C319.575 527.817 319.658 528.25 319.691 528.75C319.725 529.25 319.708 529.7 319.641 530.1L313.791 578ZM392.754 498.7H463.804L461.254 519.35H416.354L415.304 528H459.204L456.704 548.5H412.754L411.704 557.35H456.604L454.054 578H383.004L392.754 498.7ZM466.777 498.7H520.927C529.694 498.7 535.894 501.033 539.527 505.7C543.194 510.333 545.027 515.75 545.027 521.95C545.027 523.55 544.927 525.2 544.727 526.9C543.727 535.1 540.427 541.683 534.827 546.65C530.327 550.617 524.644 553 517.777 553.8L518.427 555.2L528.277 553.45L538.127 578H509.227L500.777 557.05L501.127 554.1H486.127L483.177 578H457.027L466.777 498.7ZM508.327 535.95C511.127 535.95 513.444 535.233 515.277 533.8C517.111 532.367 518.211 530.217 518.577 527.35C518.644 526.817 518.677 526.3 518.677 525.8C518.677 523.633 518.011 521.833 516.677 520.4C515.344 518.933 513.294 518.2 510.527 518.2H490.527L488.327 535.95H508.327Z" fill="url(#paint2_linear_407_49)"/>
</g>
<g opacity="0.1">
<path d="M46.2172 385.05H70.6672C78.2005 385.05 82.8005 387.133 84.4672 391.3C86.1339 395.467 86.9672 400.417 86.9672 406.15C86.9672 411.183 86.5172 417.3 85.6172 424.5C83.6839 440.133 80.9672 450.633 77.4672 456C74.0005 461.333 68.5005 464 60.9672 464H36.5172L46.2172 385.05ZM60.6172 451.4C62.8839 451.4 64.6339 450.417 65.8672 448.45C67.1339 446.45 68.6339 438.467 70.3672 424.5C71.5339 415.067 72.1172 408.383 72.1172 404.45C72.1172 402.65 71.8505 401.083 71.3172 399.75C70.8172 398.383 69.4505 397.7 67.2172 397.7H59.8672L53.3172 451.4H60.6172ZM93.4352 385.05H127.685L125.885 399.8H106.985L104.935 416.6H123.385L121.535 431.4H103.135L100.935 449.25H119.785L117.985 464H83.7352L93.4352 385.05ZM143.388 464.3C135.421 464.3 130.121 462.9 127.488 460.1C124.888 457.3 123.588 452.767 123.588 446.5C123.588 443.633 123.821 440.317 124.288 436.55H139.588C139.054 440.783 138.788 444.083 138.788 446.45C138.788 448.883 139.204 450.4 140.038 451C140.904 451.6 142.504 451.9 144.838 451.9C147.171 451.9 148.988 451.6 150.288 451C151.588 450.367 152.504 447.783 153.038 443.25C153.171 442.283 153.238 441.4 153.238 440.6C153.238 437.933 152.504 435.967 151.038 434.7C149.604 433.433 146.904 432.283 142.938 431.25C135.938 428.883 131.588 426.483 129.888 424.05C128.221 421.583 127.388 418.417 127.388 414.55C127.388 412.917 127.504 411.117 127.738 409.15C128.938 399.317 131.554 392.85 135.588 389.75C139.654 386.617 145.454 385.05 152.988 385.05C160.521 385.05 165.654 386.55 168.388 389.55C171.154 392.55 172.538 397.217 172.538 403.55C172.538 406.217 172.338 409.233 171.938 412.6H156.638C157.138 408.5 157.388 405.3 157.388 403C157.388 400.433 156.938 398.883 156.038 398.35C155.138 397.783 153.571 397.5 151.338 397.5C148.971 397.5 147.138 397.783 145.838 398.35C144.571 398.883 143.638 401.517 143.038 406.25C142.904 407.283 142.838 408.217 142.838 409.05C142.838 411.883 143.621 413.867 145.188 415C146.754 416.1 149.504 417.233 153.438 418.4C160.504 420.7 164.871 422.983 166.538 425.25C168.204 427.483 169.038 430.567 169.038 434.5C169.038 436.133 168.921 437.967 168.688 440C167.521 449.5 164.971 455.933 161.038 459.3C157.138 462.633 151.254 464.3 143.388 464.3ZM178.594 384.7H204.494L194.744 464H168.844L178.594 384.7ZM240.6 464.4C227.633 464.4 217.967 461.633 211.6 456.1C205.267 450.533 202.1 442.667 202.1 432.5C202.1 429.967 202.283 427.267 202.65 424.4C204.383 410.3 209.65 400.167 218.45 394C227.283 387.8 238.417 384.7 251.85 384.7C263.65 384.7 273.1 387.067 280.2 391.8C287.333 396.5 290.9 403.017 290.9 411.35C290.9 412.05 290.883 412.767 290.85 413.5H264.75C264.583 409.767 263.283 407.333 260.85 406.2C258.417 405.033 254.633 404.45 249.5 404.45C244.067 404.45 239.533 405.717 235.9 408.25C232.3 410.783 229.967 416.283 228.9 424.75C228.7 426.383 228.6 427.917 228.6 429.35C228.6 434.217 229.9 437.983 232.5 440.65C235.133 443.317 239.233 444.65 244.8 444.65C250.033 444.65 253.917 443.933 256.45 442.5C258.817 441.133 260.417 439.067 261.25 436.3H247.25L249.25 419.75H290.1L284.65 463.95H267.95L269 454.95L272.7 447.65L271.5 446.95L267.5 454.3C262.367 461.033 253.4 464.4 240.6 464.4ZM313.791 464H287.691L297.441 384.7H342.741L359.391 443.15H360.891L358.591 430.45C358.458 430.017 358.375 429.533 358.341 429C358.308 428.467 358.325 427.967 358.391 427.5L363.641 384.7H389.691L379.941 464H337.091L318.941 401.35H317.391L319.441 413.45C319.575 413.817 319.658 414.25 319.691 414.75C319.725 415.25 319.708 415.7 319.641 416.1L313.791 464ZM392.754 384.7H463.804L461.254 405.35H416.354L415.304 414H459.204L456.704 434.5H412.754L411.704 443.35H456.604L454.054 464H383.004L392.754 384.7ZM466.777 384.7H520.927C529.694 384.7 535.894 387.033 539.527 391.7C543.194 396.333 545.027 401.75 545.027 407.95C545.027 409.55 544.927 411.2 544.727 412.9C543.727 421.1 540.427 427.683 534.827 432.65C530.327 436.617 524.644 439 517.777 439.8L518.427 441.2L528.277 439.45L538.127 464H509.227L500.777 443.05L501.127 440.1H486.127L483.177 464H457.027L466.777 384.7ZM508.327 421.95C511.127 421.95 513.444 421.233 515.277 419.8C517.111 418.367 518.211 416.217 518.577 413.35C518.644 412.817 518.677 412.3 518.677 411.8C518.677 409.633 518.011 407.833 516.677 406.4C515.344 404.933 513.294 404.2 510.527 404.2H490.527L488.327 421.95H508.327Z" fill="url(#paint3_linear_407_49)"/>
</g>
<path d="M46.2172 737.048H70.6672C78.2005 737.048 82.8005 739.131 84.4672 743.298C86.1339 747.464 86.9672 752.414 86.9672 758.148C86.9672 763.181 86.5172 769.298 85.6172 776.498C83.6839 792.131 80.9672 802.631 77.4672 807.998C74.0005 813.331 68.5005 815.998 60.9672 815.998H36.5172L46.2172 737.048ZM60.6172 803.398C62.8839 803.398 64.6339 802.414 65.8672 800.448C67.1339 798.448 68.6339 790.464 70.3672 776.498C71.5339 767.064 72.1172 760.381 72.1172 756.448C72.1172 754.648 71.8505 753.081 71.3172 751.748C70.8172 750.381 69.4505 749.698 67.2172 749.698H59.8672L53.3172 803.398H60.6172ZM93.4352 737.048H127.685L125.885 751.798H106.985L104.935 768.598H123.385L121.535 783.398H103.135L100.935 801.248H119.785L117.985 815.998H83.7352L93.4352 737.048ZM143.388 816.298C135.421 816.298 130.121 814.898 127.488 812.098C124.888 809.298 123.588 804.764 123.588 798.498C123.588 795.631 123.821 792.314 124.288 788.548H139.588C139.054 792.781 138.788 796.081 138.788 798.448C138.788 800.881 139.204 802.398 140.038 802.998C140.904 803.598 142.504 803.898 144.838 803.898C147.171 803.898 148.988 803.598 150.288 802.998C151.588 802.364 152.504 799.781 153.038 795.248C153.171 794.281 153.238 793.398 153.238 792.598C153.238 789.931 152.504 787.964 151.038 786.698C149.604 785.431 146.904 784.281 142.938 783.248C135.938 780.881 131.588 778.481 129.888 776.048C128.221 773.581 127.388 770.414 127.388 766.548C127.388 764.914 127.504 763.114 127.738 761.148C128.938 751.314 131.554 744.848 135.588 741.748C139.654 738.614 145.454 737.048 152.988 737.048C160.521 737.048 165.654 738.548 168.388 741.548C171.154 744.548 172.538 749.214 172.538 755.548C172.538 758.214 172.338 761.231 171.938 764.598H156.638C157.138 760.498 157.388 757.298 157.388 754.998C157.388 752.431 156.938 750.881 156.038 750.348C155.138 749.781 153.571 749.498 151.338 749.498C148.971 749.498 147.138 749.781 145.838 750.348C144.571 750.881 143.638 753.514 143.038 758.248C142.904 759.281 142.838 760.214 142.838 761.048C142.838 763.881 143.621 765.864 145.188 766.998C146.754 768.098 149.504 769.231 153.438 770.398C160.504 772.698 164.871 774.981 166.538 777.248C168.204 779.481 169.038 782.564 169.038 786.498C169.038 788.131 168.921 789.964 168.688 791.998C167.521 801.498 164.971 807.931 161.038 811.298C157.138 814.631 151.254 816.298 143.388 816.298ZM178.594 736.698H204.494L194.744 815.998H168.844L178.594 736.698ZM240.6 816.398C227.633 816.398 217.967 813.631 211.6 808.098C205.267 802.531 202.1 794.664 202.1 784.498C202.1 781.964 202.283 779.264 202.65 776.398C204.383 762.298 209.65 752.164 218.45 745.998C227.283 739.798 238.417 736.698 251.85 736.698C263.65 736.698 273.1 739.064 280.2 743.798C287.333 748.498 290.9 755.014 290.9 763.348C290.9 764.048 290.883 764.764 290.85 765.498H264.75C264.583 761.764 263.283 759.331 260.85 758.198C258.417 757.031 254.633 756.448 249.5 756.448C244.067 756.448 239.533 757.714 235.9 760.248C232.3 762.781 229.967 768.281 228.9 776.748C228.7 778.381 228.6 779.914 228.6 781.348C228.6 786.214 229.9 789.981 232.5 792.648C235.133 795.314 239.233 796.648 244.8 796.648C250.033 796.648 253.917 795.931 256.45 794.498C258.817 793.131 260.417 791.064 261.25 788.298H247.25L249.25 771.748H290.1L284.65 815.948H267.95L269 806.948L272.7 799.648L271.5 798.948L267.5 806.298C262.367 813.031 253.4 816.398 240.6 816.398ZM313.791 815.998H287.691L297.441 736.698H342.741L359.391 795.148H360.891L358.591 782.448C358.458 782.014 358.375 781.531 358.341 780.998C358.308 780.464 358.325 779.964 358.391 779.498L363.641 736.698H389.691L379.941 815.998H337.091L318.941 753.348H317.391L319.441 765.448C319.575 765.814 319.658 766.248 319.691 766.748C319.725 767.248 319.708 767.698 319.641 768.098L313.791 815.998ZM392.754 736.698H463.804L461.254 757.348H416.354L415.304 765.998H459.204L456.704 786.498H412.754L411.704 795.348H456.604L454.054 815.998H383.004L392.754 736.698ZM466.777 736.698H520.927C529.694 736.698 535.894 739.031 539.527 743.698C543.194 748.331 545.027 753.748 545.027 759.948C545.027 761.548 544.927 763.198 544.727 764.898C543.727 773.098 540.427 779.681 534.827 784.648C530.327 788.614 524.644 790.998 517.777 791.798L518.427 793.198L528.277 791.448L538.127 815.998H509.227L500.777 795.048L501.127 792.098H486.127L483.177 815.998H457.027L466.777 736.698ZM508.327 773.948C511.127 773.948 513.444 773.231 515.277 771.798C517.111 770.364 518.211 768.214 518.577 765.348C518.644 764.814 518.677 764.298 518.677 763.798C518.677 761.631 518.011 759.831 516.677 758.398C515.344 756.931 513.294 756.198 510.527 756.198H490.527L488.327 773.948H508.327Z" fill="url(#paint4_linear_407_49)"/>
<path d="M99.624 115.192C92.184 115.192 87.08 114.424 84.312 112.888C81.56 111.352 80.184 108.576 80.184 104.56C80.184 103.648 80.248 102.656 80.376 101.584H92.904C92.872 101.872 92.856 102.136 92.856 102.376C92.856 103.96 93.608 104.92 95.112 105.256C96.632 105.576 98.488 105.736 100.68 105.736C102.856 105.736 104.784 105.656 106.464 105.496C108.144 105.32 109.056 104.64 109.2 103.456C109.216 103.376 109.224 103.304 109.224 103.24C109.224 102.2 108.04 101.6 105.672 101.44C103.32 101.28 100.376 101.016 96.84 100.648C90.936 99.912 86.944 98.848 84.864 97.456C82.8 96.064 81.768 94.048 81.768 91.408C81.768 90.896 81.8 90.36 81.864 89.8C82.52 84.472 84.6 81 88.104 79.384C91.624 77.752 96.912 76.936 103.968 76.936C110.992 76.936 115.936 77.76 118.8 79.408C121.68 81.056 123.12 83.864 123.12 87.832C123.12 88.648 123.064 89.528 122.952 90.472H110.424C110.456 90.232 110.472 90.008 110.472 89.8C110.472 88.264 109.672 87.312 108.072 86.944C106.472 86.576 104.656 86.392 102.624 86.392C100.336 86.392 98.344 86.488 96.648 86.68C94.968 86.872 94.048 87.584 93.888 88.816C93.888 88.88 93.888 88.944 93.888 89.008C93.888 90.128 95.096 90.76 97.512 90.904C99.944 91.032 102.84 91.288 106.2 91.672C112.504 92.424 116.656 93.448 118.656 94.744C120.656 96.04 121.656 97.96 121.656 100.504C121.656 100.984 121.624 101.48 121.56 101.992C120.856 107.624 118.808 111.232 115.416 112.816C112.04 114.4 106.776 115.192 99.624 115.192ZM131.72 97.984L132.2 98.44L147.416 86.728H162.368L147.488 98.392L159.512 115H145.736L138.464 104.944L134.6 107.944L133.736 115H121.376L126.056 76.936H138.416L136.352 93.808C136.32 93.952 136.264 94.056 136.184 94.12L131.72 97.984ZM177.112 106.744H177.832L186.712 86.728H199.672L185.368 115C182.04 121.256 179.008 124.672 176.272 125.248C173.552 125.84 167.688 126.136 158.68 126.136L159.808 116.872C167.104 116.872 171.112 116.768 171.832 116.56C172.536 116.352 173.184 115.832 173.776 115H169.912L162.496 86.728H175.456L178.528 102.592C178.576 102.944 178.528 103.288 178.384 103.624L177.112 106.744ZM215.643 106.744H216.363L225.243 86.728H238.203L223.899 115C220.571 121.256 217.539 124.672 214.803 125.248C212.083 125.84 206.219 126.136 197.211 126.136L198.339 116.872C205.635 116.872 209.643 116.768 210.363 116.56C211.067 116.352 211.715 115.832 212.307 115H208.443L201.027 86.728H213.987L217.059 102.592C217.107 102.944 217.059 103.288 216.915 103.624L215.643 106.744ZM275.487 105.328C274.687 108.112 273.327 110.24 271.407 111.712C269.503 113.168 267.311 114.136 264.831 114.616C262.351 115.112 258.719 115.36 253.935 115.36C245.727 115.36 240.335 114.184 237.759 111.832C235.679 109.912 234.639 107.176 234.639 103.624C234.639 102.808 234.695 101.944 234.807 101.032C235.399 96.2 237.255 92.56 240.375 90.112C243.495 87.664 249.071 86.44 257.103 86.44C265.183 86.44 270.343 87.6 272.583 89.92C274.823 92.24 275.943 95.128 275.943 98.584C275.943 99.368 275.895 100.184 275.799 101.032L275.367 103.816H246.447C246.607 105.224 247.095 106.184 247.911 106.696C249.207 107.512 251.519 107.92 254.847 107.92C256.687 107.92 258.007 107.88 258.807 107.8C259.607 107.704 260.399 107.456 261.183 107.056C261.983 106.64 262.663 106.064 263.223 105.328H275.487ZM263.991 97.576C263.991 97.512 263.991 97.448 263.991 97.384C263.991 96.264 263.431 95.392 262.311 94.768C261.191 94.128 259.167 93.808 256.239 93.808C253.007 93.808 250.679 94.256 249.255 95.152C248.471 95.632 247.839 96.44 247.359 97.576H263.991Z" fill="url(#paint5_linear_407_49)"/>
<path d="M18 97.7931C33.7027 93.7381 39.3466 87.2771 44.4483 70C47.6067 84.9999 53.0032 91.6106 70 97.7931C52.3831 104.111 47.9959 111.695 44.4483 126C39.3958 111.173 35.75 102.579 18 97.7931Z" fill="url(#paint6_linear_407_49)"/>
</g>
<defs>
<linearGradient id="paint0_linear_407_49" x1="-258.644" y1="-54.1739" x2="359.156" y2="893.834" gradientUnits="userSpaceOnUse">
<stop stop-color="white"/>
<stop offset="1" stop-color="#B6DCFF"/>
</linearGradient>
<linearGradient id="paint1_linear_407_49" x1="35" y1="661.5" x2="540" y2="661.5" gradientUnits="userSpaceOnUse">
<stop stop-color="#7FC0FB"/>
<stop offset="1" stop-color="#0E63A4"/>
</linearGradient>
<linearGradient id="paint2_linear_407_49" x1="35" y1="542.5" x2="540" y2="542.5" gradientUnits="userSpaceOnUse">
<stop stop-color="#7FC0FB"/>
<stop offset="1" stop-color="#0E63A4"/>
</linearGradient>
<linearGradient id="paint3_linear_407_49" x1="35" y1="428.5" x2="540" y2="428.5" gradientUnits="userSpaceOnUse">
<stop stop-color="#7FC0FB"/>
<stop offset="1" stop-color="#0E63A4"/>
</linearGradient>
<linearGradient id="paint4_linear_407_49" x1="35" y1="780.498" x2="540" y2="780.498" gradientUnits="userSpaceOnUse">
<stop stop-color="#7FC0FB"/>
<stop offset="1" stop-color="#0E63A4"/>
</linearGradient>
<linearGradient id="paint5_linear_407_49" x1="78" y1="78" x2="78" y2="141" gradientUnits="userSpaceOnUse">
<stop stop-color="#DBEDFF"/>
<stop offset="1" stop-color="#0E63A4"/>
</linearGradient>
<linearGradient id="paint6_linear_407_49" x1="44" y1="70" x2="44" y2="126" gradientUnits="userSpaceOnUse">
<stop stop-color="#7FC0FB"/>
<stop offset="1" stop-color="#1668A8"/>
</linearGradient>
<clipPath id="clip0_407_49">
<rect width="575" height="840" fill="white"/>
</clipPath>
</defs>
</svg>
`;

const svgBase64 = 'data:image/svg+xml;base64,' + btoa(svgString);

const svgImg = new Image();
svgImg.src = svgBase64;




  svgImg.onload = () => {
    const canvas = document.createElement('canvas');
    canvas.width = 512;
    canvas.height = 728;
    const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#ffffff';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(svgImg, 0, 0, canvas.width, canvas.height);

    const texture = new THREE.CanvasTexture(canvas);
    texture.anisotropy = renderer.capabilities.getMaxAnisotropy();
    texture.encoding = THREE.sRGBEncoding;
    texture.needsUpdate = true;

    const svgMaterial = new THREE.MeshPhysicalMaterial({
      map: texture,
      metalness: 0,
      roughness: 0.2,
      clearcoat: 1.0,
      clearcoatRoughness: 0.1,
      transparent: true,
    });

    const frontShapeGeometry = new THREE.ShapeGeometry(shape);
    frontShapeGeometry.computeBoundingBox();

    const offsetX = (frontShapeGeometry.boundingBox.max.x + frontShapeGeometry.boundingBox.min.x) / 2;
    const offsetY = (frontShapeGeometry.boundingBox.max.y + frontShapeGeometry.boundingBox.min.y) / 2;
    frontShapeGeometry.translate(-offsetX, -offsetY, 0);

    const width = frontShapeGeometry.boundingBox.max.x - frontShapeGeometry.boundingBox.min.x;
    const height = frontShapeGeometry.boundingBox.max.y - frontShapeGeometry.boundingBox.min.y;

    const uvAttr = frontShapeGeometry.attributes.uv;
    for (let i = 0; i < uvAttr.count; i++) {
      const x = frontShapeGeometry.attributes.position.getX(i) + offsetX;
      const y = frontShapeGeometry.attributes.position.getY(i) + offsetY;
      uvAttr.setXY(i, (x + width / 2) / width, (y + height / 2) / height);
    }

    const svgMesh = new THREE.Mesh(frontShapeGeometry, svgMaterial);
    svgMesh.position.z = 0.051;
    badgeGroup.add(svgMesh);
  };

  

  // Clip ring
  const ringGeometry = new THREE.TorusGeometry(0.07, 0.01, 16, 100);
  const ringMaterial = new THREE.MeshStandardMaterial({ color: 0x034168, metalness: 1 });
  const ring = new THREE.Mesh(ringGeometry, ringMaterial);
  ring.rotation.x = Math.PI * 2;
  ring.position.set(0, height / 2 - 0.15, 0.05);
  badgeGroup.add(ring);

  // Lanyard ribbon
  const lanyardTexture = new THREE.TextureLoader().load('lanyard_texture.jpg');
  lanyardTexture.wrapS = THREE.RepeatWrapping;
  lanyardTexture.wrapT = THREE.RepeatWrapping;
  lanyardTexture.repeat.set(1, 2);

  const ribbonMaterial = new THREE.MeshStandardMaterial({
    map: lanyardTexture,
    side: THREE.DoubleSide,
    metalness: 0.2,
    roughness: 0.6,
  });

  const ribbonShape = new THREE.PlaneGeometry(0.15, 3, 20, 1);
  const position = ribbonShape.attributes.position;
  for (let i = 0; i < position.count; i++) {
    const y = position.getY(i);
    const curveFactor = Math.sin((y / 3) * Math.PI);
    position.setZ(i, curveFactor * 0.3);
  }
  position.needsUpdate = true;
  ribbonShape.computeVertexNormals();

  const lanyard = new THREE.Mesh(ribbonShape, ribbonMaterial);
  lanyard.position.set(0, height / 2 + 0.4, 0);
  badgeGroup.add(lanyard);

  // Lights
  scene.add(new THREE.AmbientLight(0xffffff, 0.5));
  const pointLight = new THREE.PointLight(0xffffff, 2);
  pointLight.position.set(5, 5, 5);
  scene.add(pointLight);

  document.addEventListener('mousemove', onMouseMove);
  window.addEventListener('resize', onWindowResize);
}

function onMouseMove(event) {
  mouseX = (event.clientX - windowHalf.x);
  mouseY = (event.clientY - windowHalf.y);
}

function onWindowResize() {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
}

function animate() {
  requestAnimationFrame(animate);

  const elapsed = clock.getElapsedTime();
  targetX = mouseX * 0.001;
  targetY = mouseY * 0.001;

  if (badgeGroup) {
    const bounce = Math.sin(elapsed * 2) * 0.09;


    badgeGroup.rotation.y += 0.05 * (targetX - badgeGroup.rotation.y);
    badgeGroup.rotation.x += 0.05 * (targetY - badgeGroup.rotation.x);


    badgeGroup.position.y = bounce;
  }

  renderer.render(scene, camera);
}